#Experimental code

from BPPD_16_FormattedData import FormatData2, FormatData3
import threading

# Создаем блокировку для синхронизации доступа к файлу
#file_lock = threading.Lock()

def write_file():
    # Catched the locker before writing in the file
#    with file_lock:
    NewData = [FormatData2("Djorge", 65, True),
               FormatData2("Sally", 47, False),
               FormatData2("Duglas", 52, True)]
    FormatData2.SaveData("TestFile.csv", NewData)

def read_file():
    # Catched the locker before reading the file
#    with file_lock:
    NewData3 = FormatData3.ReadData("TestFile.csv")
    for Entry in NewData3:
        print(Entry)

def print_hello():
    print("Hello from thread", threading.current_thread().name)

# Create threads for write and read
write_thread = threading.Thread(target=write_file, name="Write-Thread")
read_thread = threading.Thread(target=read_file, name="Read-Thread")

# Start thread
write_thread.start()
read_thread.start()

# Wait thread
write_thread.join()
read_thread.join()

print("All threads finished")
